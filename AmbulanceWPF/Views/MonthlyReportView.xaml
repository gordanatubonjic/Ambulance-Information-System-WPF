<Window x:Class="AmbulanceWPF.Views.MonthlyReportView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:local="clr-namespace:AmbulanceWPF.ViewModels"
        xmlns:sys="clr-namespace:System;assembly=mscorlib"
        Title="Monthly Report" Height="450" Width="800">
    <Window.DataContext>
        <local:MonthlyReportViewModel />
    </Window.DataContext>
    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>            
            <ColumnDefinition Width="*"/>
            
        </Grid.ColumnDefinitions>
        <DatePicker 
            Grid.Row="0"
            Grid.Column="0"
            SelectedDate="{Binding SelectedMonth}"
            materialDesign:HintAssist.Hint="{DynamicResource SelectMonthText}"
            DisplayDateStart="2020-01-01"
            DisplayDateEnd="{x:Static sys:DateTime.Now}"
            SelectedDateChanged="OnSelectedDateChanged"
            Style="{StaticResource MaterialDesignFloatingHintDatePicker}"/>

        <ScrollViewer Grid.Row="1" Grid.ColumnSpan="2" Margin="0,16,0,0">
            <StackPanel>
                <ProgressBar IsIndeterminate="True" 
                            Visibility="{Binding IsLoading, Converter={StaticResource BooleanToVisibilityConverter}}" />

                <DataGrid ItemsSource="{Binding Reports}" 
                         AutoGenerateColumns="False" 
                         IsReadOnly="True">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="{DynamicResource EmployeeText}" 
                                           Binding="{Binding Employee}" 
                                           Width="*" />
                        <DataGridTextColumn Header="{DynamicResource NumPatientsText}" 
                                           Binding="{Binding NumberOfPatients}" 
                                           Width="Auto" />
                        <DataGridTextColumn Header="{DynamicResource NumExaminationsText}" 
                                           Binding="{Binding NumberOfExaminations}" 
                                           Width="Auto" />
                        <DataGridTextColumn Header="{DynamicResource NumInterventionsText}"
                                           Binding="{Binding NumberOfInterventions}" 
                                           Width="Auto" />
                    </DataGrid.Columns>
                </DataGrid>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</Window>