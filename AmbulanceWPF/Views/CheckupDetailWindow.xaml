<Window x:Class="AmbulanceWPF.Views.CheckupDetailWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"

        xmlns:local="clr-namespace:AmbulanceWPF.Views"
        mc:Ignorable="d"
        Title="CheckupDetailWindow" 
        Height="600" Width="800"
        MinHeight="500" MinWidth="600"
        Background="{DynamicResource MaterialDesignPaper}">
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <materialDesign:Card Grid.Row="0" Margin="16,16,16,8">
            <Grid Margin="24,16">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <materialDesign:PackIcon Grid.Column="0" 
                                       Kind="FileDocumentOutline" 
                                       Width="32" Height="32"
                                       Foreground="{DynamicResource MaterialDesignPrimary}"
                                       VerticalAlignment="Center"
                                       Margin="0,0,16,0"/>

                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                    <TextBlock Text="Checkup Report" 
                             Style="{StaticResource MaterialDesignHeadline5TextBlock}"/>
                    <TextBlock Text="{Binding CheckupDate, StringFormat='MMM dd, yyyy'}" 
                             Style="{StaticResource MaterialDesignSubtitle1TextBlock}"
                             Foreground="{DynamicResource MaterialDesignBodyLight}"/>
                </StackPanel>

                <Button Grid.Column="2" 
                      Style="{StaticResource MaterialDesignIconButton}"
                      ToolTip="Close"
                      Click="CloseButton_Click">
                    <materialDesign:PackIcon Kind="Close" Width="24" Height="24"/>
                </Button>
            </Grid>
        </materialDesign:Card>

        <!-- Content -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Margin="16,0">
            <StackPanel>

                <!-- Doctor Information -->
                <materialDesign:Card>
                    <StackPanel Margin="24,16">
                        <TextBlock Text="Healthcare Provider" 
                                 Style="{StaticResource MaterialDesignHeadline6TextBlock}"
                                 Margin="0,0,0,8"/>
                        <TextBlock Text="{Binding DoctorName}" 
                                 Style="{StaticResource MaterialDesignBody1TextBlock}"/>
                    </StackPanel>
                </materialDesign:Card>

                <!-- Summary -->
                <materialDesign:Card>
                    <StackPanel Margin="24,16">
                        <TextBlock Text="Summary" 
                                 Style="{StaticResource MaterialDesignHeadline6TextBlock}"
                                 Margin="0,0,0,8"/>
                        <TextBlock Text="{Binding Summary}" 
                                 Style="{StaticResource MaterialDesignBody1TextBlock}"
                                 TextWrapping="Wrap"/>
                    </StackPanel>
                </materialDesign:Card>

                <!-- Detailed Description -->
                <materialDesign:Card>
                    <StackPanel Margin="24,16">
                        <TextBlock Text="Detailed Description" 
                                 Style="{StaticResource MaterialDesignHeadline6TextBlock}"
                                 Margin="0,0,0,8"/>
                        <TextBlock Text="{Binding DetailedDescription}" 
                                 Style="{StaticResource MaterialDesignBody1TextBlock}"
                                 TextWrapping="Wrap"/>
                    </StackPanel>
                </materialDesign:Card>

                <!-- Diagnosis -->
                <materialDesign:Card>
                    <StackPanel Margin="24,16">
                        <TextBlock Text="Diagnosis" 
                                 Style="{StaticResource MaterialDesignHeadline6TextBlock}"
                                 Margin="0,0,0,8"/>
                        <TextBlock Text="{Binding Diagnosis}" 
                                 Style="{StaticResource MaterialDesignBody1TextBlock}"
                                 TextWrapping="Wrap"/>
                    </StackPanel>
                </materialDesign:Card>

                <!-- Medications -->
                <materialDesign:Card>
                    <StackPanel Margin="24,16">
                        <TextBlock Text="Medications" 
                                 Style="{StaticResource MaterialDesignHeadline6TextBlock}"
                                 Margin="0,0,0,8"/>
                        <TextBlock Text="{Binding Medications}" 
                                 Style="{StaticResource MaterialDesignBody1TextBlock}"
                                 TextWrapping="Wrap"/>
                    </StackPanel>
                </materialDesign:Card>

                <!-- Test Results -->
                <materialDesign:Card >
                    <StackPanel Margin="24,16">
                        <TextBlock Text="Test Results" 
                                 Style="{StaticResource MaterialDesignHeadline6TextBlock}"
                                 Margin="0,0,0,8"/>
                        <ItemsControl ItemsSource="{Binding TestResults}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding}" 
                                             Style="{StaticResource MaterialDesignBody1TextBlock}"
                                             Margin="0,2"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </StackPanel>
                </materialDesign:Card>

                <!-- Additional Notes -->
                <materialDesign:Card>
                    <StackPanel Margin="24,16">
                        <TextBlock Text="Additional Notes" 
                                 Style="{StaticResource MaterialDesignHeadline6TextBlock}"
                                 Margin="0,0,0,20"/>
                        <TextBlock Text="{Binding Notes}" 
                                 Style="{StaticResource MaterialDesignBody1TextBlock}"
                                 TextWrapping="Wrap"/>
                    </StackPanel>
                </materialDesign:Card>

                <!-- Next Appointment -->
                <materialDesign:Card>
                    <StackPanel Margin="24,16">
                        <TextBlock Text="Next Appointment" 
                                 Style="{StaticResource MaterialDesignHeadline6TextBlock}"
                                 Margin="0,0,0,8"/>
                        <TextBlock Text="{Binding NextAppointment}" 
                                 Style="{StaticResource MaterialDesignBody1TextBlock}"/>
                    </StackPanel>
                </materialDesign:Card>

            </StackPanel>
        </ScrollViewer>

        <!-- Footer -->
        <materialDesign:Card Grid.Row="2" Margin="16,8,16,16">
            <Grid Margin="24,12">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button Content="PRINT" 
                          Style="{StaticResource MaterialDesignFlatButton}"
                          Margin="0,0,8,0"/>
                    <Button Content="CLOSE" 
                          Style="{StaticResource MaterialDesignRaisedButton}"
                          Click="CloseButton_Click"/>
                </StackPanel>
            </Grid>
        </materialDesign:Card>

    </Grid>
</Window>